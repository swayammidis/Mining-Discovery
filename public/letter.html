<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>letter Section</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Pontano Sans', sans-serif;
      background: white;
    }

    .first-header {
      padding: 20px;
      height: 24px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      background-color: #2E2E2E;
      font-size: 16px;
    }

    .first-header:hover {
      text-decoration: underline;
    }

    .main-header {
      background-color: #fff;
      padding: 12px;
      border-bottom: 1px solid #ddd;
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .logo-social {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .logo {
      height: 45px;
    }

    .nav-links {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .nav-links a {
      text-decoration: none;
      color: #000;
      font-weight: 500;
      transition: color 0.3s;
    }

    .nav-links a:hover {
      color: #8d6d2a;
    }

    .header-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .login-btn,
    .subscribe-btn {
      padding: 5px 15px;
      border: none;
      border-radius: 15px;
      font-weight: bold;
      cursor: pointer;
      color: white;
    }

    .login-btn {
      background-color: #8d6d2a;
    }

    .subscribe-btn {
      background-color: #000;
    }


    .search-bar-container {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      padding-top: 14px;
    }

    .search-bar-bg {
      background-color: #2e2e2e;
      height: 24px;
      border-radius: 20px;
      margin-bottom: 10px;
      width: 70%;
      overflow: hidden;
      position: relative;
    }

    .scrolling-track {
      display: flex;
      width: max-content;
      animation: scroll-loop 8s linear infinite;
    }

    .scrolling-content {
      display: flex;
      white-space: nowrap;
      color: white;
      font-size: 14px;
    }

    .up {
      color: #22ed00;
    }

    .down {
      color: #ff0000;
    }

    @keyframes scroll-loop {
      0% {
        transform: translateX(0%);
      }

      100% {
        transform: translateX(-50%);
      }
    }


    .search-box {
      position: relative;
      width: 220px;
    }

    .search-box input {
      width: 100%;
      height: 35px;
      padding: 5px 15px;
      padding-right: 35px;
      border: 1px solid #ccc;
      border-radius: 20px;
      outline: none;
      font-size: 14px;
    }

    .search-icon {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #555;
      font-size: 16px;
      cursor: pointer;
    }

    /* Animated text */
    .animated-text-container {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
      color: #999;
      font-size: 14px;
      overflow: hidden;
      height: 16px;
    }

    .animated-text-container span {
      display: block;
      animation: slideText 3s ease-in-out infinite;
    }

    @keyframes slideText {
      0% {
        transform: translateY(100%);
        opacity: 0;
      }

      10% {
        transform: translateY(0);
        opacity: 1;
      }

      40% {
        transform: translateY(0);
        opacity: 1;
      }

      50% {
        transform: translateY(-100%);
        opacity: 0;
      }

      100% {
        transform: translateY(-100%);
        opacity: 0;
      }
    }

    /* Hide animated text when user types */
    .search-box input:focus+.animated-text-container,
    .search-box input:not(:placeholder-shown)+.animated-text-container {
      display: none;
    }


    .social-icons {
      display: flex;
      align-items: center;
      gap: 10px;

    }

    .social-icons i {
      color: #8d6d2a;
      font-size: 18px;
      cursor: pointer;
    }

    .hamburger {
      display: none;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #8d6d2a;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hamburger {
        display: block;
      }

      .nav-links,
      .header-buttons,
      .search-bar-container {
        display: none;
        width: 100%;
        flex-direction: column;
        align-items: flex-start;
        margin-top: 10px;
      }

      .nav-links a {
        padding: 8px 0;
      }

      .mobile-active .nav-links,
      .mobile-active .header-buttons,
      .mobile-active .search-bar-container {
        display: flex;
        gap: 20px;
      }

      .search-box {
        width: 100%;
        margin-top: 10px;
      }

      .search-box input {
        width: 100%;
      }

      .social-icon {
        margin-bottom: -20px;
      }

      .search-bar-bg {
        width: 100%;
      }
    }

    /* === Header / Dropdown Toggle === */
    .topbar {
      background: #1f1f1f;
      color: #fff;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
      flex-wrap: wrap;
    }

    .topbar h1 {
      font-size: 20px;
      font-weight: normal;
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
    }

    .topbar h1 i {
      font-size: 12px;
      transition: transform 0.3s ease;
    }

    .topbar h1.rotate i {
      transform: rotate(180deg);
    }

    .dropdown-links {
      display: none;
      background: #1f1f1f;
      padding: 10px 20px;
      flex-wrap: wrap;
      gap: 10px;
      font-size: 14px;
      border-top: 1px solid #333;
    }

    .dropdown-links a {
      color: #ccc;
      text-decoration: none;
      margin-right: 15px;
      transition: 0.3s;
    }

    .dropdown-links a:hover,
    .dropdown-links a.active {
      color: gold;
      border-bottom: 2px solid gold;
      padding-bottom: 3px;
    }

    .dropdown-links.show {
      display: flex;
      flex-wrap: wrap;
    }

    /* === Media Queries === */

    /* Small phones */
    @media (max-width: 480px) {
      .topbar {
        flex-direction: column;
        align-items: flex-start;
        padding: 10px 15px;
      }

      .topbar h1 {
        font-size: 18px;
        gap: 6px;
      }

      .dropdown-links {
        flex-direction: column;
        padding: 10px 15px;
        gap: 8px;
        font-size: 13px;
      }

      .dropdown-links a {
        margin: 5px 0;
      }
    }

    /* Tablets */
    @media (min-width: 481px) and (max-width: 768px) {
      .topbar {
        flex-direction: column;
        align-items: flex-start;
        padding: 12px 20px;
      }

      .dropdown-links {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 12px;
        padding: 12px 20px;
      }
    }

    /* Desktops (already optimized, but just in case) */
    @media (min-width: 769px) {
      .topbar {
        flex-direction: row;
        justify-content: space-between;
      }

      .dropdown-links {
        flex-direction: row;
        gap: 15px;
      }
    }

    /* === Main Layout === */
    /* Base Styles - Desktop (default) */
    .container {
      display: flex;
      padding: 30px;
      gap: 20px;
    }

    .left-sidebar {
      width: 20%;
    }

    .left-sidebar .box {
      background: white;
      padding: 15px;
      margin-bottom: 20px;
    }

    .left-sidebar .box img {
      width: 100%;
      height: auto;
    }

    .main-content {
      width: 60%;
    }

    h2 {
      border-bottom: 2px solid #333;
    }

    .main-content h2 {
      margin-bottom: 15px;
    }

    .btn {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: white;
    }

    span {
      color: #8d6d2a;
    }

    .btn-more,
    .gold-btn {
      border: 1px solid #AC8A4A;
      padding: 5px;
      border-radius: 20px;
      background-color: white;
      color: #AC8A4A;
    }

    .gold-btn {
      margin-bottom: 10px;
    }

    .heading,
    .report,
    .gold {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .news-card {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      background: #D9D9D9;
      border-radius: 10px;
      border: 1px solid #ddd;
    }

    .news-card img {
      width: 200px;
      height: 150px;
      object-fit: cover;
    }

    .text-content {
      padding: 15px;
    }

    .right-sidebar {
      width: 20%;
    }

    .section-box {
      background: white;
      margin-bottom: 20px;
      padding: 10px;
    }

    .section-box img {
      width: 100%;
      height: 120px;
      object-fit: cover;
    }

    .gold-news {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      padding-bottom: 30px;
    }

    .gold-card {
      flex: 1;
      min-width: 150px;
      border-radius: 10px;
      background: #AC8A4A4F;
      border: 1px solid #ddd;
      text-align: center;
    }

    .gold-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .gold-card p {
      padding: 10px;
      font-weight: bold;
    }




    .container2 {
      max-width: 700px;
      margin: 0 auto;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 12px rgba(0, 0, 0, 0.1);
      border: 1px solid #ccc;
      height: fit-content;
    }

    h2 {
      text-align: center;
      color: #a65b00;
      font-weight: 500;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    input,
    select {
      padding: 12px;
      border: none;
      border-radius: 5px;
      background: #e6e6e6;
      font-size: 1rem;
    }

    label {
      font-size: 0.9rem;
      color: #222;
    }

    .checkbox {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 0.9rem;
    }

    .checkbox small {
      color: red;
      display: block;
    }

    button {
      background-color: #a65b00;
      color: white;
      border: none;
      padding: 12px;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #814700;
    }

    .disclaimer {
      font-size: 0.8rem;
      color: #333;
      margin-top: 20px;
    }

    .disclaimer a {
      color: #a65b00;
      text-decoration: none;
    }


    /* === Responsive: Tablet === */
    @media (max-width: 992px) {
      .container {
        flex-direction: column;
      }

      .left-sidebar,
      .right-sidebar,
      .main-content {
        width: 100%;
      }

      .news-card {
        flex-direction: column;
      }

      .news-card img {
        width: 100%;
        height: auto;
      }

      .gold-news {
        flex-direction: column;
      }

      .gold-card {
        width: 100%;
      }
    }

    /* === Responsive: Phone === */
    @media (max-width: 576px) {
      .container {
        padding: 15px;
        gap: 15px;
      }

      .news-card {
        gap: 10px;
      }

      .text-content {
        padding: 10px;
      }

      .gold-card img {
        height: auto;
      }

      .btn-more,
      .gold-btn {
        font-size: 14px;
        padding: 4px 10px;
      }

      .gold-news {
        gap: 15px;
      }
    }

    .footer-container {
      background-image: url(./image/footer-bg\ 1.png);
      padding: 50px 30px 20px;
      color: #fff;
      position: relative;
    }

    .divider {
      width: 1px;
      background: #444;
      height: 60%;
      position: absolute;
      left: 50%;
      top: 5%;
    }


    .footer-content {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      max-width: 1300px;
      margin: auto;
    }

    .footer-left {
      flex: 1;
      max-width: 50%;
      padding-right: 40px;
    }

    .footer-left img {
      height: 60px;
    }

    .social-iconss {
      padding-top: 10px;
      color: #8d6d2a;
      font-size: 18px;
      cursor: pointer;
      padding-bottom: 10px;
    }

    .search-boxs {
      position: relative;
      width: 170px;


    }


    .search-boxs input {
      width: 100%;
      height: 25px;
      padding: 5px 15px;
      padding-right: 35px;
      border: 1px solid #ccc;
      border-radius: 15px;
      outline: none;
    }

    .search-icon {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #555;
      font-size: 16px;
      cursor: pointer;
    }

    */ .footer-left p {
      font-size: 15px;
      margin-top: 15px;
      line-height: 1.6;
      max-width: 500px;
    }

    .footer-left .socials {
      margin-top: 20px;
    }

    .footer-left .socials i {
      margin-right: 15px;
      font-size: 18px;
      color: #ccc;
      cursor: pointer;
    }

    .footer-center {

      min-width: 220px;
      padding-left: 30px;
    }

    .footer-center ul {
      list-style: none;
      padding: 0;
    }

    .footer-center li {
      margin-bottom: 12px;
      font-size: 14px;
      cursor: pointer;
    }

    .footer-center li:first-child {
      font-weight: bold;
      color: orange;
    }

    .footer-right {
      flex: 1.3;
      min-width: 300px;

      flex-wrap: wrap;

      padding-left: 30px;
    }

    .logo2 {
      padding-left: 50px;
    }

    .logo5 {
      padding-left: 24%;
    }

    .footer-right img {
      margin: 5px;
      height: 60px;
      background: #fff;
      padding: 10px;
      border-radius: 10px;
      width: 100px;
      object-fit: contain;
    }

    .footer-bottom {
      text-align: center;
      margin-top: 40px;
      font-size: 13px;
      color: #aaa;
    }

    /* -------- RESPONSIVE -------- */

    @media (max-width: 1024px) {
      .footer-container {
        padding: 50px 30px 25px;
      }

      .footer-content {
        gap: 25px;
      }
    }

    @media (max-width: 768px) {
      .footer-container {
        padding: 40px 20px 20px;
      }

      .footer-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 40px;
      }

      .footer-left,
      .footer-center,
      .footer-right {
        padding: 0;
        min-width: 100%;
      }

      .footer-right {
        justify-content: flex-start;
      }

      .divider {
        display: none;
      }

      .footer-left p {
        max-width: 100%;
      }

      .search-boxs {
        width: 50%;
      }

    }

    @media (max-width: 480px) {
      .left-sidebar {
        display: none;
      }

      .footer-left img,
      .footer-right img {
        height: 50px;
        width: 90px;
      }

      .footer-left p {
        font-size: 14px;
      }

      .footer-center li,
      .footer-left .socials i {
        font-size: 14px;
      }

      .footer-center li:first-child {
        font-size: 15px;
      }

      .footer-bottom {
        font-size: 12px;
        margin-top: 30px;
      }
    }
  </style>
</head>

<body>
  <header class="main-header">
    <div class="header-top">
      <div class="logo-social">
        <a href="index.html"> <img src="image/discoverylogo.jpg" alt="Mining Discovery Logo" class="logo" /></a>

      </div>

      <button class="hamburger" onclick="toggleMenu()">
        <i class="fas fa-bars"></i>
      </button>

      <div class="nav-links" id="navMenu">
        <a href="about.html">About Us</a>
        <a href="latest-news.html">News Section</a>
        <a href="morning-chatter.html">Morning Chatter</a>
        <a href="magzin.html">Magazine</a>
        <a href="services">Services</a>
        <a href="contant.html">Contact Us</a>
      </div>

      <div class="header-buttons" id="headerButtons">
        <a href="login.html"><button class="login-btn">Login</button></a>
        <button class="subscribe-btn">Subscribe</button>
      </div>
    </div>

    <div class="search-bar-container" id="searchContainer">
      <div class="social-icons">
        <i class="fab fa-linkedin"></i>
        <i class="fab fa-x-twitter"></i>
        <i class="fab fa-facebook-f"></i>
        <i class="fab fa-instagram"></i>
        <i class="fab fa-youtube"></i>
      </div>
      <div class="search-bar-bg">
        <div class="scrolling-track">
          <div class="scrolling-content">
            <span>Gold (Au) $3,378/oz <span class="down">-0.36%</span> &nbsp;&nbsp;&nbsp;</span>
            <span>Silver (Ag) $28.34/oz <span class="up">+0.45%</span> &nbsp;&nbsp;&nbsp;</span>
            <span>Copper (Cu) $4.12/lb <span class="down">-0.12%</span> &nbsp;&nbsp;&nbsp;</span>
            <span>Platinum (Pt) $1,085/oz <span class="up">+0.87%</span> &nbsp;&nbsp;&nbsp;</span>
          </div>
          <!-- Duplicate content for seamless loop -->
          <div class="scrolling-content">
            <span>Gold (Au) $3,378/oz <span class="down">-0.36%</span> &nbsp;&nbsp;&nbsp;</span>
            <span>Silver (Ag) $28.34/oz <span class="up">+0.45%</span> &nbsp;&nbsp;&nbsp;</span>
            <span>Copper (Cu) $4.12/lb <span class="down">-0.12%</span> &nbsp;&nbsp;&nbsp;</span>
            <span>Platinum (Pt) $1,085/oz <span class="up">+0.87%</span> &nbsp;&nbsp;&nbsp;</span>
          </div>
        </div>
      </div>


      <div class="search-box">
        <input type="text" id="searchInput" placeholder=" " />
        <div class="animated-text-container">
          <span id="animatedText">Search gold prices</span>
        </div>
        <button class="search-icon"><i class="fas fa-search"></i></button>
      </div>
    </div>
  </header>

  <!-- Header + Dropdown -->
  <div class="topbar">
    <h1 onclick="toggleDropdown()" id="newsToggle">
      News Section
      <i class="fas fa-chevron-down"></i>
    </h1>
  </div>

  <!-- Dropdown Links -->
  <div class="dropdown-links" id="dropdownMenu">
    <a href="service.html">Investor Campaigns</a>
    <a href="multimedia.html">Multimedia & you tube</a>
    <a href="newsynd.html">News Syndication</a>
    <a href="confrence.html">Conference Media Coverage</a>
    <a href="branding.html">Digital Branding</a>
    <a href="Global.html">Global Outreach</a>
    <a href="media.html">Social Media Growth </a>
    <a href="podcast.html">Podcast & Interview Features</a>
    <a href="lett">Newsletter & Email Blasts</a>
    <a href="paid.html">Paid Ad Campaigns</a>
    <a href="pressoffice.html">Press Office</a>
  </div>

  <!-- Content Section -->
  <div class="container">
    <!-- Left -->
    <div class="left-sidebar">
      <div class="box">
        <div class="section" id="bannerContainer">
          <p>Loading banners...</p>
        </div>
      </div>
    </div>

    <!-- Main -->
    <div class="container2">
      <h2>Sign Up for the Mining Discovery Insights Newsletter</h2>
      <form>
        <input type="text" placeholder="First Name" required>
        <input type="text" placeholder="Last Name" required>
        <input type="email" placeholder="Email Address" required>
        <input type="text" placeholder="Job Title">
        <input type="text" placeholder="Company Name">
        <select required>
          <option value="">Country</option>
          <option value="India">India</option>
          <option value="USA">USA</option>
          <option value="Canada">Canada</option>
          <!-- Add more countries if needed -->
        </select>

        <div class="checkbox">
          <input type="checkbox" id="agree" required>
          <label for="agree">
            I would like to receive the Mining Discovery Review Newsletter & carefully selected 3rd party emails
            <small>Please confirm you would like to receive the Mining Discovery Review newsletter & carefully selected
              3rd party emails</small>
          </label>
        </div>

        <button type="submit">Join For Free</button>

        <p class="disclaimer">
          * Required content<br><br>
          You can unsubscribe from our emails at any time by clicking the link in the footer of any email you receive
          from us. We will treat your information with respect. For more information about our privacy policy please <a
            href="#">click here</a>. By clicking above, you agree that we may process your information in accordance
          with these terms.<br><br>
          We use MailChimp as our marketing automation platform. By clicking above to submit this form, you acknowledge
          that the information you provide will be transferred to MailChimp for processing in accordance with their <a
            href="#">Privacy Policy</a> and <a href="#">Terms</a>.
        </p>
      </form>
    </div>


    <!-- Right -->
    <div class="right-sidebar">

      <div class="section-box">
        <div class="heading">
          <h3>Projects</h3>
          <button type="button" class="gold-btn">show more</button>
                    <div class="card" id="projectNewsSection">
                    </div>
        </div>
        
      </div>
     

      <div class="section-box">
        <div class="report">
          <h3>Reports</h3>
          <div class="card" id="researchReportsContainer">
          </div>
          <button type="button" class="gold-btn">show more</button>
        </div>
       
      </div>
    </div>
  </div>
  <!-- Footer Section -->
  <div class="footer-container">
    <div class="footer-content">



      <!-- Left -->
      <div class="footer-left">
        <img src="image/discoverylogo.jpg" alt="Mining Discovery Logo" height="60px" />
        <p>
          Mining Discovery provides daily mining news, a weekly mining newsletter,<br> a monthly mining magazine and an
          interactive mining website for mining<br> companies, mining associations and mining executives globally.
        </p>
        <div class="search-bar-container-last" id="searchContainer">
          <div class="social-iconss">
            <i class="fab fa-linkedin"></i>
            <i class="fab fa-x-twitter"></i>
            <i class="fab fa-facebook-f"></i>
            <i class="fab fa-instagram"></i>
            <i class="fab fa-youtube"></i>
          </div>

          <div class="search-boxs">
            <input type="text" id="searchInput" placeholder="Search..." />
            <button class="search-icon"><i class="fas fa-search"></i></button>
          </div>
          <div class="divider"></div>
        </div>
      </div>

      <!-- Center -->
      <div class="footer-center">
        <ul>
          <li>HOME</li>
          <li>ABOUT US</li>
          <li>MARKETING VIDEOS</li>
          <li>SUBSCRIPTION</li>
          <li>APPS</li>
          <li>COMMENT GUIDELINE</li>
          <li>LEGAL NOTICE</li>
        </ul>
      </div>





    </div>

    <div class="footer-bottom">
      © 2025 Mining Discovery – Daily Mining Updates – Design by Mining Discovery.
    </div>
  </div>


  </footer>
  </div>

   <script>
    function toggleDropdown() {
      const dropdown = document.getElementById("dropdownMenu");
      const header = document.getElementById("newsToggle");
      dropdown.classList.toggle("show");
      header.classList.toggle("rotate");
    }


    // ===== PRELOADER FUNCTIONALITY =====
    window.addEventListener('load', () => {
      const preloader = document.getElementById('preloader');
      if (preloader) {
        preloader.style.opacity = '0';
        preloader.style.visibility = 'hidden';
        setTimeout(() => preloader.remove(), 500); // optional: remove it from DOM
      }
    });

    // ===== LOAD BANNERS =====
    async function loadBanners() {
  const container = document.getElementById('bannerContainer');
  if (!container) return;

  container.innerHTML = '<p>Loading banners...</p>';

  try {
    const res = await fetch('/api/banners'); // fetch all banners

    if (!res.ok) {
      throw new Error(`HTTP error! status: ${res.status}`);
    }

    const data = await res.json();
    console.log('Banner API response:', data);

    container.innerHTML = ''; // Clear previous content

    if (!Array.isArray(data) || data.length === 0) {
      container.innerHTML = '<p>No banners available.</p>';
      return;
    }

    data.forEach((banner, index) => {
      const imageUrl = banner.image;

      const adDiv = document.createElement('div');
      adDiv.className = 'left-ad';

      if (imageUrl && imageUrl.startsWith('data:image')) {
        const img = document.createElement('img');
        img.src = imageUrl;
        img.alt = banner.alt || `Banner ${index + 1}`;
        img.className = 'logo-img';

        if (banner.link) {
          const anchor = document.createElement('a');
          anchor.href = banner.link;
          anchor.target = '_blank';
          anchor.rel = 'noopener noreferrer';
          anchor.appendChild(img);
          adDiv.appendChild(anchor);
        } else {
          adDiv.appendChild(img);
        }
      } else {
        adDiv.innerHTML = '<p>Invalid image</p>';
      }

      container.appendChild(adDiv);
    });

  } catch (err) {
    console.error('Failed to load banners:', err);
    container.innerHTML = '<p>Error loading banners.</p>';
  }
}

    // ====== Fetch Project News by tag ======
    async function fetchProjectNews() {
      try {
        const res = await fetch('/api/tagged-posts/tag/projects');
        const data = await res.json();
        const container = document.getElementById('projectNewsSection');
        if (!container) return;

        const latest = data.slice(0, 3);

        latest.forEach(news => {
          const card = document.createElement('div');
          card.className = 'project-card';
          card.onclick = () => window.location.href = `project-news-details.html?id=${news._id}`;

          card.innerHTML = `
                    <img src="${news.image}" alt="Project Image">
                    <div class="content">
                        <h4>${news.title}</h4>
                        <p>${news.description.replace(/<[^>]+>/g, '').slice(0, 80)}...</p>
                    </div>
                `;

          container.appendChild(card);
        });
      } catch (err) {
        console.error('Failed to load project news:', err);
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
        loadBanners();
      fetchProjectNews();
    });


    // for fetching research reports 
    document.addEventListener("DOMContentLoaded", async () => {
      try {
        const tag = 'research reports';
        const encodedTag = encodeURIComponent(tag); // 'research%20reports'
        const res = await fetch(`/api/tagged-posts/tag/${encodedTag}`);
        const data = await res.json();

        const container = document.getElementById("researchReportsContainer");
        if (!container) return;

        container.innerHTML = '';

        if (!Array.isArray(data) || data.length === 0) {
          container.innerHTML = '<p>No research reports found.</p>';
          return;
        }

        const topReports = data.slice(0, 2); // Show top 2

        topReports.forEach(report => {
          const card = document.createElement("div");
          card.classList.add("research-card");

          card.innerHTML = `
                ${report.image ? `<img src="${report.image}" alt="Report Image" class="research-img" />` : ''}
                <h4 class="research-title">
                    <a href="research-detail.html?id=${report._id}">${report.title}</a>
                </h4>
                <p class="research-desc">${stripHTML(report.description).slice(0, 150)}...</p>
            `;

          container.appendChild(card);
        });
      } catch (error) {
        console.error("Error fetching research reports:", error);
      }

      // Helper function to remove HTML tags from description
      function stripHTML(html) {
        const div = document.createElement("div");
        div.innerHTML = html || '';
        return div.textContent || div.innerText || '';
      }
    });

  </script>

</body>

</html>