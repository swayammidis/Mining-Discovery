<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Announcement Detail</title>
 <style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: #f7f7f7;
    margin: 0;
  }

  .container {
    max-width: 800px;
    margin: auto;
    background: #fff;
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
  }

  h1 {
    font-size: 2rem;
    margin-bottom: 15px;
    line-height: 1.3;
    color: #333;
  }

  .date {
    color: #777;
    font-size: 0.9rem;
    margin-bottom: 20px;
  }

  img {
    max-width: 100%;
    height: auto;
    margin: 20px 0;
    border-radius: 6px;
  }

  p {
    font-size: 1rem;
    line-height: 1.6;
    color: #444;
    margin-bottom: 1.2rem;
  }

  /* Responsive adjustments */
  @media (max-width: 1024px) {
    body {
      padding: 15px;
    }

    .container {
      padding: 20px;
    }

    h1 {
      font-size: 1.8rem;
    }

    p {
      font-size: 0.95rem;
    }
  }

  @media (max-width: 768px) {
    body {
      padding: 10px;
    }

    .container {
      padding: 18px;
    }

    h1 {
      font-size: 1.6rem;
    }

    p {
      font-size: 0.9rem;
    }

    .date {
      font-size: 0.85rem;
    }
  }

  @media (max-width: 480px) {
    h1 {
      font-size: 1.4rem;
    }

    p {
      font-size: 0.85rem;
    }

    .date {
      font-size: 0.8rem;
    }

    .container {
      padding: 15px;
    }
  }
</style>

</head>
<body>
  <div class="container" id="announcementDetail"></div>

 <script>
  async function loadAnnouncementDetail() {
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id');
    if (!id) return;

    try {
      const res = await fetch(`/api/tagged-posts/${id}`); // âœ… Use unified tagged route
      const data = await res.json();

      const container = document.getElementById('announcementDetail');
      container.innerHTML = `
        <h1>${data.title}</h1>
        <div class="date">${new Date(data.date || data.createdAt).toLocaleDateString()} | By ${data.author || 'Admin'}</div>
        ${data.image ? `<img src="${data.image}" alt="Announcement Image">` : ''}
        <div>${data.description}</div>
      `;
    } catch (err) {
      console.error('Error loading announcement detail:', err);
    }
  }

  loadAnnouncementDetail();
</script>

</body>
</html>
